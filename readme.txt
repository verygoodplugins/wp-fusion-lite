=== WP Fusion Lite ===
Contributors: verygoodplugins
Tags: infusionsoft, activecampaign, ontraport, convertkit, salesforce, mailchimp, drip, crm, marketing automation, wpfusion, wp-fusion
Requires at least: 4.6
Requires PHP: 5.6
Tested up to: 5.6
Stable tag: 3.35

WP Fusion integrates your website with your CRM or marketing automation system.

== Description ==

WP Fusion Lite synchronizes your WordPress users with leading CRMs and marketing automation systems, keeps user profiles in sync with CRM contact records, and lets you protect site content based on CRM tags.

= Features =

* Automaticaly create new contacts in your CRM when users register in WordPress
* Restrict access to site content using tags or lists in your CRM
* Synchronize any WordPress user data with custom fields in your CRM
* Apply tags when users register
* Import contacts from your CRM as new WordPress users and generate passwords for them
* Export site users to your CRM as contact records

= Lite Version =

This is a free version of [WP Fusion](https://wpfusion.com/?utm_campaign=free-plugin&utm_source=wp-org). WP Fusion Lite synchronizes your **registered WordPress users** with your connected CRM, including their name and email address.

It does not apply tags based on purchases or course activity, sync form entries, sync customers, or detect any data generated by other plugins.

For integration with WooCommerce, LearnDash, Gravity Forms, Elementor and [over 100 other popular WordPress plugins](https://wpfusion.com/documentation/integrations/?utm_campaign=free-plugin&utm_source=wp-org), check out [one of our paid licenses](https://wpfusion.com/pricing/?utm_campaign=free-plugin&utm_source=wp-org).

= Supported CRMs =

* AWeber
* ActiveCampaign
* AgileCRM
* Autopilot
* BirdSend
* Capsule
* ConvertKit
* Copper
* Customerly
* Drift
* Drip
* EngageBay
* Flexie
* FluentCRM
* GetResponse
* Gist
* Groundhogg
* HubSpot
* Infusionsoft
* Intercom
* Kartra
* Klaviyo
* Klick-Tipp
* Loopify
* MailChimp
* MailEngine
* MailerLite
* Mailjet
* MailPoet
* Maropost
* Mautic
* NationBuilder
* Ontraport
* Platform.ly
* Quentn
* Salesflare
* Salesforce
* SendFox
* SendinBlue
* Sendlane
* Tubular
* UserEngage
* WP ERP
* ZeroBS CRM
* Zoho

== Screenshots ==

1. Sync any WordPress user fields with contact records in your CRM
2. View and manage contact tags within WordPress
3. Restrict access to content based on a contact's tags
4. Use the Gutenberg block to show and hide content within a page based on a contact's CRM tags

== Installation ==

Upload and activate the plugin, then go to Settings >> WP Fusion. Select your desired CRM, enter your API credentials and click "Test Connection" to verify the connection. See our [Getting Started Guide](https://wpfusion.com/documentation/#getting-started-guide) for more information on setting up your application.

== Frequently Asked Questions ==

See our [FAQ](https://wpfusion.com/documentation/).

== Changelog ==

= 3.35 - 12/8/2020 =

##### New CRMs

* FluentCRM


##### New Features

* Added additional logging to show when meta values have been modified by wpf_format_field_value before being sent to the CRM
* Added "Additional Actions" to admin user profile (Push User Meta, Pull User Meta, and Show User Meta) for debugging purposes
* Added Re-Authorize With Hubspot button to re-connect via OAuth
* Added option to disable admin menu editor interfaces
* Added support for Mautic v3
* Added support for new background_request flag with the Ontraport API
* Added a Default Account setting for Salesforce

* Added datetime field support to Zoho integration
* Added support for dropdown and checkbox fields with Kartra
* Added Work Address fields for sync with NationBuilder
* Added Owner ID field for sync with Groundhogg
* Added Profile Picture field for sync with Groundhogg
* Added support for custom address fields with Mailchimp
* Added Avatar field for sync with Jetpack CRM
* Added Phone 3 through Phone 5 fields for syncing with Infusionsoft


#### Improvements

* Tested and updated for WordPress 5.6

* Added warning when user_pass field is enabled for sync
* Added logging for WP Fusion plugin updates
* Added logging for when an invalid role slug was loaded from the CRM

* Improved Hide From Menus setting - will now attempt to get a post ID out of a custom link
* Improved (No Tags) and (No Contact ID) filters in the All Users list
* Improved - Multiselect values loaded from ActiveCampaign will now be loaded as arrays instead of strings
* Improved support for syncing First Name and Last Name with Gist
* Improved - Post type archives will now respect wpf_post_type_rules access rules
* Improved handling for merged / changed contact IDs to Ontraport
* Improved - Moved ActiveCampaign tracking scripts to the footer

* Improved error handling for MailPoet
* Improved error handling with Drip
* Improved error handling with MailJet
* Improved error handling for NationBuilder

* Updated ZeroBS CRM to Jetpack CRM

* Removed Groundhogg < 2.x compatibility code
* Removed dynamic tagging support from Groundhogg
* Removed AWeber integration


#### Bug Fixes

* Fixed custom fields not updating with Kartra
* Fixed importer getting hung up on more than 100 contacts with HubSpot
* Fixed importer with EngageBay
* Fixed import tool with MailerLite
* Fixed MailerLite integration using a case-sensitive comparison for email address changes
* Fixed user_registered getting loaded from the CRM when a user was imported
* Fixed Mailjet integration not loading more than 10 custom fields
* Fixed ActiveCampaign not loading more than 100 custom fields
* Fixed dates not formatted correctly with Mailjet
* Fixed PHP warning loading contact data with ActiveCampaign
* Fixed some issues with Sendinblue and email addresses that had capital letters
* Fixed syncing empty multiselects to EngageBay not erasing the selected values in the CRM
* Fixed multiselect fields not loading from EngageBay
* Fixed PHP warning in EngageBay integration when loading a contact with no custom properties
* Fixed users having to log in twice if they tried to log in during an auto-login session
* Fixed taxonomy term settings not saving when trying to remove protection from a term
* Fixed error adding new Zoho Leads without a last name
* Fixed JS bug when editing taxonomy terms
* Fixed settings page requiring an extra refresh after resetting before changing to a new CRM
* Fixed "Wrong custom field format" error adding contacts to Kartra
* Fixed loading dropdown and multi-checkbox type fields from Kartra
* Fixed Salesforce not connecting when the password has a slash character in it
* Fixed date fields not syncing properly with Groundhogg
* Fixed applying tags on pageview in AJAX request during an auto login session not working on WP Engine
* Fixed JSON formatting error applying tags with AgileCRM
* Fixed - user_id will no longer be loaded during user imports
* Fixed - Renamed class WPF_Options to WP_Fusion_Options to prevent conflict with WooCommerce Product Filter
* Fixed MailEngine SOAP warning when MailEngine wasn't the active CRM
* Fixed user_meta shortcode not displaying field if value was 0
* Fixed Lead Source Tracking not working for guests


#### Developer

* Added "raw" field type
* Added functions wpf_get_crm_field(), wpf_is_field_active(), and wpf_get_field_type()
* Added wpf_set_user_meta filter
* Added wpf_render_tag_multiselect_args filter
* Added gettext support to wpf-admin.js and wpf-options.js strings
* Added doing_wpf_webhook() function
* Added pre_user_{$field} filter on user data being synced to the CRM



= 3.34 - 8/12/2020 =

##### New CRMs

* Loopify
* WP ERP
* EngageBay


##### New Features

* Added Set Current User option to auto-login system
* Added Send Confirmation Emails setting for MailPoet
* Added Status field for syncing with Drip
* Added Time Zone and Language fields for Infusionsoft
* Added Double Optin setting to Mailchimp integration
* Added Username for sync with Kartra
* Added priority option for Return After Login
* Added option to set a default owner for new contacts with Zoho
* Split Mautic site tracking into two modes (Standard vs. Advanced)
* Added "Resync contact IDs for every user" batch operation
* Added [[wpf_user_can_access]] shortcode
* Added support for Groundhogg Advanced Custom Meta Fields
* Added support for multiselect fields with Mautic
* Added ability to create new tags in Groundhogg via WP Fusion
* Added setting for additional allowed URLs to Site Lockout feature


##### Improvements

* WordPress 5.5 compatibility updates
* If the user_meta shortcode is used for a field that has never been loaded from the CRM, WP Fusion will make an API call to load the field value one time
* Improved support for Mautic site tracking
* Improved support for syncing phone numbers with Sendinblue
* If API call to get user tags fails or times out, the local tag cache won't be erased
* Intercom integration will now force the v1.4 API
* Added compatibility notices in the admin when potential plugin conflicts are detected
* Added validation to custom meta keys registered for sync on the Contact Fields list
* Facebook OG scraper will now bypass access rules if SEO Show Excerpts is on
* Improved error handling for Salesforce access token refresh process
* Salesforce will now default to the field configured for sync with the user_email field as the lookup field for records
* Improved filtering tool on the All Users list
* Reduced the amount of data saved by the background worker to help with max_allowed_packet issues
* Added staging mode notice on the settings page
* Users added to a multisite blog will now be tagged with the Assign Tags setting for that site
* Added notice if an auto-login link is visited by a logged-in admin
* Added Refresh Tags & Fields button to top of WPF settings page
* Improved support for syncing wp_capabilities and role fields


##### Bug Fixes

* Fixed email address changes not getting synced after confirmation via the admin user profile
* Fixed optin_status getting saved to contact meta with Groundhogg
* Fixed Groundhogg custom fields updated over the REST API not being synced back to the user record
* Fixed address fields not being synced back to WordPress after an admin contact save in Groundhogg
* Fixed Mautic not importing more than 30 contacts using import tool
* Fixed MailerLite subscriber IDs not loading properly on servers with PHP_INT_MAX set to 32
* Fixed Infusionsoft form submissions starting auto-login sessions even if the setting was turned off
* Fixed Spanish characters not showing in Infusionsoft tag names
* Fixed SSL error connecting to Zoho's Indian data servers
* Fixed ActiveCampaign list Auto Responder campaigns not running on contacts added over the API
* Fixed import tool not loading more than 10 contacts with Mailchimp
* Fixed import tool not loading more than 100 contacts with MailerLite
* Fixed import tool not loading more than 1,000 contacts with AgileCRM

* Fixed Hide From Menus filter treating a taxonomy term as a post ID for access control
* Fixed Filter Queries not working on the blog index page
* Fixed Filter Queries not working on search results in Advanced mode
* Fixed Filter Queries (Advanced) hiding restricted posts in the admin
* Fixed archive restrictions not working if no required tags were specified
* Fixed deletion tags not being applied on multisite sites when a user was deleted from a blog
* Fixed Preview With Tag not working if the user doesn't have a CRM contact record
* Fixed restricted post category redirects not working if no tags was specified
* Fixed Hide Term on post categories hiding terms in the admin when Exclude Administrators was off
* Fixed restricted posts triggering redirects on a homepage set to Your Latest Posts in Settings >> Reading
* Fixed Required Tags (All) tags not showing on lock icon tooltip in post tables

* Updated User.com integration for new API endpoint
* Klaviyo bugfixes
* Maropost bugfixes


##### Developer

* Added wpf_user_can_access() function
* Added wpf_disable_tag_multiselect filter
* Added wpf_salesforce_lookup_field filter
* Added wpf_get_contact_id_email filter
* Added wpf_batch_objects filter
* Added X-Redirect-By headers when WP Fusion performs a redirect
* Added HTTP API logging option
* Added PHP error handling to logger
* Added fallback method for background worker in case it gets blocked
* Added setting for Prevent Reapplying Tags (Advanced)
* Improved - Updated has_tag() function to accept an array or a string
* Updated some ActiveCampaign API calls to v3 API


= 3.31 - 3/30/2020 =

##### New CRMs

* ZeroBS CRM
* MailEngine
* Klick-Tipp
* Quentn
* SendFox

##### New Features

* Added option to restrict access to individual menu items
* Added Apply Tags on View option for taxonomy terms
* Added Required Tags (not) setting to access control meta box
* contactId can now be used as a URL parameter for auto-login with Infusionsoft
* Added automatic data conversion for dropdown fields with Ontraport
* Added data-remove-tags option to link click tracking
* Added option to send welcome email to new users imported from ConvertKit
* Added Default Optin Status option and optin_status syncing with Groundhogg
* Added an alert to the status bar of the background worker if API errors were encountered during data export
* Added Entries Per Page to Screen Options in logs
* Added logging for API throttling with ConvertKit
* Added support for dropdown-type fields with Copper
* Added additional built in Gist fields for syncing

##### Improvements

* Removed extra column in admin list table and moved lock symbol to after the post title
* Contacts will no longer be created in Ontraport without an email address
* Removed non-editable fields from Ontraport fields dropdowns
* Stopped loading meta for new user registrations with existing contact records
* Leads will now be created in Gist instead of Users if the subscriber doesn't have a user account
* Logged in users and form submissions will now be identified to the Gist tracking script
* Logged in users and guest form submissions will now be identified to the Autopilot tracking script
* Slowed down batch operations with ConvertKit to get around API throttling
* Improved debugging tools for background worker
* Improvements to applying tags with Kartra using the new Kartra API endpoints
* Gutenberg block will no longer output HTML if there's nothing to display

##### Bug Fixes

* Fixed duplicate content in Gutenberg block
* Fixed messed up formatting of foreign characters in Gutenberg block
* Fixed duplicate contact ID lookup API call for new user registrations with existing contact records
* Fixed restricted content message not being output when multiple content areas were on a page
* Fixed user_activation_key getting reset when importing new users and breaking Better Notifications welcome emails
* Fixed "Return After Login" not working with WooCommerce account login
* Fixed lead source variables not syncing to Ontraport
* Stopped converting dates to GMT with Ontraport
* Fixed Duplicate and Delete tool for MailerLite email address changes
* Fixed New User Benchmark not firing with Groundhogg
* Fixed changed email addresses not syncing to Sendinblue
* Fixed bug in Import Tool with Sendinblue
* Fixed Mautic not listing more than 30 custom fields
* Fixed Mailchimp not loading more than 200 tags
* Fixed underscores not loading in Infusionsoft tag labels
* Fixed Invalid Data errors when syncing a number to a text field in Zoho
* Fixed ActiveCampaign contact ID lookups returning error message when connected to non-English ActiveCampaign accounts
* Gist compatibility updates for changed API methods
* Fixed missing email addresses causing BirdSend API calls to fail
* Fixed BirdSend only loading 15 available tags

##### Developer

* Added wpf_get_current_user_id() function
* Added wpf_is_user_logged_in() function
* Auto login system no longer sets $current_user global
* Removed admin authentication cookies from background worker
* Added wpf_auto_login_cookie_expiration filter
* Added wpf_salesforce_query_args filter
* Added wpf_aweber_key and wpf_aweber_secret filters


= 3.27 - 11/27/2019 =

##### New CRMs

* BirdSend
* Klaviyo

##### New Features

* Added Site Lockout feature
* Added Company, GDPR Consent, and Agreed to Terms fields for sync with Groundhogg
* Added signup_type field to NationBuilder
* Added Australia and India data server support to Zoho integration
* Added "capabilties" format for syncing capability fields
* Added "ucwords" formatting option to user_meta shortcode
* Added option to hide WPF meta boxes from non admins

##### Improvements

* Style compatibility updates for WP 5.3
* Improved Mautic site tracking
* Improved handling of merged contacts with Mautic
* Improved site tracking with HubSpot for guests
* Updated ActiveCampaign site tracking scripts
* Updated Intercom integration to use API v1.4
* Enabled Import Users tab for Intercom
* Improved support for Country field with Groundhogg
* All site tracking scripts will now recognize auto login sessions
* Disabled comments during auto login sessions
* wpf_tags_applied and wpf_tags_removed actions will now run when tags are loaded from the CRM
* Enabled welcome email in MailPoet when a contact is subscribed to a list


##### Bug Fixes

* Sendinblue bugfixes
* Copper bugfixes
* Fixed Gist API URL
* Fixed special characters getting escaped on admin profile updates
* Fixed NationBuilder not loading more than 100 available tags
* Fixed fatal error when initializing GetResponse connection
* Fixes for HubSpot accounts with over 250 lists
* Fixed Mailchimp contact ID getting disconnected after email address change
* Fixed NationBuilder Primary address fields not syncing
* Fixed Mailchimp compatibility with other Mailchimp plugins
* Fixed tags not being removed with Ontraport
* Fixed content protection on blog index page
* Fixed "Create tags from value" option for profile updates
* Fixed initial connection to Groundhogg on Groundhogg < 2.0
* Performance improvements and bugfixes for background worker


= 3.25 - 8/24/2019 =

##### New CRMs

* GetResponse
* MailPoet

##### New Features

* Added option to return people to originally requested content after login
* Added ability to create new user meta fields from the Contact Fields list
* Added dynamic tagging based on field values (for supported CRMs)
* Added ability to modify field data formats via the Contact Fields list
* Added option to remove tags when a page is viewed
* Added option to completely hide a taxonomy term based on tags
* Added option to enable HubSpot site tracking scripts
* Added auto-login by email address for MailerLite
* Added "Advanced" mode for Filter Queries setting
* MailerLite will now re-subscribe subscribers when they submit a form
* Added additional monitoring tools for background process worker
* Groundhogg 2.0 compatibility
* Added social media fields to Kartra
* Added date_joined field for Kartra
* Added new default profile fields for Drip
* Added wpf_salesforce_auth_url filter for Salesforce
* Added multiselect support for HubSpot
* Added unsubscribe notifications for ConvertKit
* Added "wpf_salesforce_auth_url" filter for overriding Salesforce authorization URL
* Added details about configured tags to protected content in post list table
* Added Email Changed event for Drip
* Added Is X? fields for NationBuilder
* Added option to disable "Preview With Tag" in admin bar
* Added active lists to list dropdowns with HubSpot
* Added IP address when adding new contacts with Mautic
* Added Organisation field for syncing to Capsule
* Auto login with Mailchimp now works with email address
* Added Portuguese translation (thanks @JoÃ£o Alexandre)

##### Improvements

* Improved OAuth access token refresh process with Salesforce
* Access control meta box now requires the manage_options capability
* Drip site tracking will now auto-identify logged in users
* Groundhogg will now load tags and meta immediately instead of requiring sync
* Improved handling for State fields with Ontraport
* Better handling for missing last names in Salesforce
* Slowed down HubSpot batch operations to get around API limits
* Mautic performance improvements
* Preview With Tag now bypasses Exclude Admins setting
* Compatibility updates for custom field formatting with Mailerlite

##### Bug Fixes

* Fixed typo in NationBuilder fields dropdown
* Fixed email address changes with Infusionsoft causing opt-outs
* Fixed notifications going out when using the built in import tool
* Bugfixes for Preview with Tag feature
* Fixed Infusionsoft API errors with addWithDupCheck method
* Fixed ConvertKit contact ID lookup failing
* Fixed creating a contact in Zoho without a last name
* Fixed slashes getting added to tags with apostrophes in Mautic
* Fixed redirect causing multiple API calls with contact ID lookup in Mautic
* Fixed MailChimp looking up contacts from other lists
* Fixed empty date type fields sending 1/1/1970 dates
* Copper bugfixes
* Capsule bugfixes
* Platform.ly bugfixes


= 3.24 - 4/25/2019 =

##### New CRMs

* Sendlane
* Mailjet

##### New Features

* Added option to return people to originally requested content after login
* Added admin users column showing user tags
* Added AgileCRM site tracking scripts
* Added Organization Name field for ActiveCampaign
* Added merge settings option to bulk edit
* Added setting to remove "Additional Fields" section from settings
* Added date-format parameter to user_meta shortcode
* Added "Required tags (all)" option to post restriction meta box
* Added option for login meta sync
* Added additional status triggers for Mailerlite webhooks
* Added option to embed Mautic site tracking scripts
* Added Mautic mtc_id cookie tracking for known contacts
* Improved Ontraport site tracking script integration
* Improved HubSpot error logging

##### Bug Fixes

* Platform.ly bugfixes
* Mailerlite bugfixes
* ConvertKit fixes for unconfirmed subscribers
* Fix for email addresses with + sign in MailChimp
* Fix for contact ID lookup with HubSpot
* Updated AWeber subscriber ID lookup to only use selected list
* Better AWeber exception handling
* Fix for changing email addresses with Drip
* Limit logging table to 10,000 rows
* Fixes for wpf_user_can_access filter
* Fix for background worker when PHP's memory_limit is set to -1
* Comments are now properly hidden when a post is restricted and no redirects are specified
* Set 1 second sleep time for Drip batch processes to avoid API timeouts
* Fixes for custom objects with Ontraport

= 3.22 - 2/2/2019 =

##### New CRMs

* Drift
* Autopilot
* Customerly
* Copper
* Groundhogg
* NationBuilder

##### New Features

* Added Gutenberg block for content restriction
* Added support for Salesforce Topics
* Added import tool for Mautic
* Added support for updating email addresses in Kartra
* Added handling for changed contact IDs in Infusionsoft
* Added user_registered field for syncing
* Added option for per-post restricted content messages
* Added Pull User Meta batch operation
* Added support for picklist / multiselect fields in Zoho
* Added import by Topic for Salesforce
* Added support for using tag labels in link click tracking
* Added Gist (ConvertFox) webhooks support
* Added custom fields support for Kartra
* Added webhooks support for Platform.ly

##### Bug Fixes

* Capsule bugfixes
* UserEngage bugfixes
* Gist (ConvertFox) bugfixes
* Drift tagging bugfixes
* Fixed bug where bulk-editing pages would remove WPF access rules
* Fix for syncing with unsubscribed subscribers in ConvertKit
* Fix for incomplete address error with MailChimp
* Fix for error creating contacts in Intercom without any custom fields
* Fix for wpf_update_tags shortcode in auto-login sessions
* Fix for imports larger than 50 with Capsule
* Fix for Sendinblue not creating contacts if custom attributes weren't present

= 3.18 - 11/5/2018 =
* Added Platform.ly CRM support
* Added support for Salesforce topics
* More flexible staging mode
* Added logged in / logged out shortcode
* Added option to sync tags on user login
* Capsule bugfixes
* Added option to choose contact layout for new contacts with Zoho
* Added custom fields support for Intercom
* Fix for "restrict access" checkbox not unlocking inputs correctly
* Fix for import button not working in admin

= 3.17.1 - 9/9/2018 =
* Additional sanitizing of user input data

= 3.17 - 9/8/2018 =
* Initial release of Lite version

For previous release notes see the [changelog](https://wpfusion.com/documentation/faq/changelog/?utm_campaign=free-plugin&utm_source=wp-org).