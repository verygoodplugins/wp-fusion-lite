=== WP Fusion Lite - Marketing Automation for WordPress ===
Contributors: verygoodplugins
Tags: infusionsoft, activecampaign, ontraport, convertkit, salesforce, mailchimp, hubspot, drip, crm, marketing automation, wpfusion, zapier
Requires at least: 4.6
Requires PHP: 5.6
Tested up to: 5.8
Stable tag: 3.37.31

WP Fusion Lite synchronizes your WordPress users with your CRM or marketing automation system.

== Description ==

WP Fusion Lite synchronizes your WordPress users with leading CRMs and marketing automation systems, keeps user profiles in sync with CRM contact records, and lets you protect site content based on CRM tags.

= Features =

* Automatically [create new contacts in your CRM](https://wpfusion.com/documentation/getting-started/general-settings/?utm_campaign=free-plugin&utm_source=wp-org#automatically-create-contact-records-for-new-users) when users register in WordPress
* [Restrict access to site content](https://wpfusion.com/documentation/getting-started/access-control/?utm_campaign=free-plugin&utm_source=wp-org) using tags and lists in your CRM
* [Synchronize any WordPress user data]((https://wpfusion.com/documentation/getting-started/syncing-contact-fields/?utm_campaign=free-plugin&utm_source=wp-org)) with custom fields in your CRM
* [Apply tags when users register](https://wpfusion.com/documentation/getting-started/general-settings/?utm_campaign=free-plugin&utm_source=wp-org#assign-tags)
* [Import contacts from your CRM](https://wpfusion.com/documentation/tutorials/import-users/?utm_campaign=free-plugin&utm_source=wp-org) as new WordPress users and generate passwords for them
* [Export WordPress users](https://wpfusion.com/documentation/tutorials/batch-operations/?utm_campaign=free-plugin&utm_source=wp-org) to your CRM as contact records
* [Track visitor activity](https://wpfusion.com/documentation/tutorials/site-tracking-scripts/?utm_campaign=free-plugin&utm_source=wp-org) using your CRM's tracking scripts (with supported CRMs)

> WP Fusion is a critical tool in our toolkit for our clients, and we VERY strongly encourage our clients to use WP Fusion if they have any kind of CRM. The software is top notch, and the support team is fast and friendly. Nothing but love for WP Fusion from my team here at House Trevethan.

> Allen Trevethan - House Trevethan

= Lite Version =

This is a free version of [WP Fusion](https://wpfusion.com/?utm_campaign=free-plugin&utm_source=wp-org). WP Fusion Lite synchronizes your **registered WordPress users** with your connected CRM, including their name and email address.

It does not apply tags based on purchases or course activity, sync form entries, sync customers, or detect any data generated by other plugins.

For integration with WooCommerce, LearnDash, Gravity Forms, Elementor and [over 100 other popular WordPress plugins](https://wpfusion.com/documentation/integrations/?utm_campaign=free-plugin&utm_source=wp-org), check out [one of our paid licenses](https://wpfusion.com/pricing/?utm_campaign=free-plugin&utm_source=wp-org).

[youtube https://www.youtube.com/watch?v=wzRajxCUxNI] 

= Benefits =

* âš¡ Replace Zapier, Integromat, and other integration tools. WP Fusion gives you an direct data sync direct between your site and your CRM, with no delays or limits.

* ðŸ”’ Create easy to manage membership sites with drip-released content using timers and logic in your CRM.

* ðŸ’Ž Personalize your site by displaying data from CRM contact records, and showing / hiding content based on a user's CRM tags or lists.

> WP Fusion allows us to provide tailored customer experiences in WordPress that wow every time.

> Hundreds of plugins that used to be one size fits all, can now perform differently for each Ontraport contact. For example, a low scoring Ontraport contact can be presented with a winback customer journey in WordPress.

> This has allowed our clients to increase customer engagement and retention. It's the only solution that should be considered for any WordPress integration.

> Josh Schleifer - Triple Canopy

= Docs and Tutorials =

 * ðŸ“¦ [Installation Guide](https://wpfusion.com/documentation/getting-started/installation-guide/?utm_campaign=free-plugin&utm_source=wp-org)
 * ðŸ”’ [Controlling access to content with CRM tags](https://wpfusion.com/documentation/getting-started/access-control/?utm_campaign=free-plugin&utm_source=wp-org)
 * ðŸ“ [Shortcodes](https://wpfusion.com/documentation/getting-started/shortcodes/?utm_campaign=free-plugin&utm_source=wp-org)
 * ðŸ‘€ [Displaying CRM data in WordPress](https://wpfusion.com/documentation/tutorials/displaying-crm-data-in-wordpress/?utm_campaign=free-plugin&utm_source=wp-org)
 * ðŸ”¥ [Sync WordPress users with CRM contact records](https://wpfusion.com/documentation/getting-started/syncing-contact-fields/?utm_campaign=free-plugin&utm_source=wp-org)
 * ðŸ”‘ [Import users from your CRM and generate passwords](https://wpfusion.com/documentation/tutorials/import-users/?utm_campaign=free-plugin&utm_source=wp-org)
 * ðŸ“¤ [Export users and metadata to your CRM](https://wpfusion.com/documentation/tutorials/batch-operations/?utm_campaign=free-plugin&utm_source=wp-org)
 * ðŸ“ˆ [Sync Google Analytics and other leadsource variables with your CRM](https://wpfusion.com/documentation/tutorials/lead-source-tracking/?utm_campaign=free-plugin&utm_source=wp-org)
 * ðŸ·ï¸ [Track user activity using tags](https://wpfusion.com/documentation/getting-started/tracking-user-activity/?utm_campaign=free-plugin&utm_source=wp-org)
 * ðŸ”® [Auto login links](https://wpfusion.com/documentation/tutorials/auto-login-links/?utm_campaign=free-plugin&utm_source=wp-org)

> WP Fusion builds a critical bridge between our WooCommerce powered ecommerce site and LifterLMS powered training site to our CRM ActiveCampaign. It was easy to set up. The technical support is above and beyond anything I've ever seen. What it does is clearly intelligently designed and well built.

> Chris Badgett - LifterLMS

= Supported CRMs and marketing automation platforms =

* ActiveCampaign
* AgileCRM
* Autopilot
* Autonami
* BirdSend
* Capsule
* ConvertKit
* Copper
* Customerly
* Drift
* Drip
* EngageBay
* Flexie
* FluentCRM (same site or REST API)
* GetResponse
* Gist
* Groundhogg
* Growmatik
* HighLevel
* HubSpot
* Infusionsoft
* Intercom
* Kartra
* Klaviyo
* Klick-Tipp
* Loopify
* MailChimp
* MailEngine
* MailerLite
* Mailjet
* MailPoet
* Maropost
* Mautic
* NationBuilder
* Ontraport
* Platform.ly
* PulseTechnologyCRM
* Quentn
* Salesflare
* Salesforce
* SendFox
* SendinBlue
* Sendlane
* Tubular
* UserEngage
* WP ERP
* ZeroBS CRM
* Zoho

For more info on CRM compatibility, [check out the compatibility table](https://wpfusion.com/documentation/faq/crm-compatibility-table/?utm_campaign=free-plugin&utm_source=wp-org).

> WP Fusion is one of my secret weapons for getting WordPress to keep our member's data synced with our CRM. This makes everything work so much better when you don't have to worry about your members having issues logging into the member's area.

> If you have or are considering having a membership website using WordPress this plugin is a must-have. It will save you hours of time and frustration.

> Greg Russell - SuccessTeam Marketing

== Screenshots ==

1. Sync any WordPress user fields with contact records in your CRM
2. View and manage contact tags within WordPress
3. Restrict access to content based on a contact's tags
4. Use the Gutenberg block to show and hide content within a page based on a contact's CRM tags

== Installation ==

Upload and activate the plugin, then go to Settings >> WP Fusion. Select your desired CRM, enter your API credentials and click "Connect" to verify the connection.

For CRM-specific setup information, see our [Installation Guide](https://wpfusion.com/documentation/getting-started/installation-guide/?utm_campaign=free-plugin&utm_source=wp-org).

== Frequently Asked Questions ==

= Who is it for? =

WP Fusion is built for anyone using a [CRM or marketing automation platform](https://wpfusion.com/documentation/faq/crm-compatibility-table/?utm_campaign=free-plugin&utm_source=wp-org), and running their website with WordPress.

CRMs empower businesses to track leads, send email broadcasts, manage contact data, track sales, delegate client relationships between employees, and more.

WordPress handles the public facing side of your business: your sales pages, ecommerce platform, support forums, photos and videos, and anything else you want the world to see.

**But your CRM and WordPress donâ€™t talk to each other.**

**This is where WP Fusion comes in.**

WP Fusion acts as a bridge between your WordPress data and CRM dataâ€” it allows you to use data from WordPress to power your marketing campaigns, and data from your CRM to personalize the customer experience in WordPress.

= How is it different from Zapier? =

While WP Fusion and Zapier are both integration tools, they work quite differently.

Zapier is a SaaS (Software as a Service) solution that acts as a middleman between your site and your CRM (as well as many other platforms).

When something is updated in WordPress, it is synced to Zapierâ€™s website, and then Zapier syncs the data on to your desired platform. Depending on your plan there is a delay before the data is synced, and/or limit on how many â€œtasksâ€ you can run each month.

**WP Fusion connects your site directly to your CRM or marketing automation platform** over the API (nothing goes through our website). Because of this the sync of data is instant, secure, and there are no monthly limits.

In addition to syncing data with your CRM, WP Fusion also includes many options for [protecting your WordPress content based on CRM tags](https://wpfusion.com/documentation/getting-started/access-control/?utm_campaign=free-plugin&utm_source=wp-org), and triggering changes in membership level or course enrollments based on CRM automations. This generally isnâ€™t possible with Zapier because Zapier is configured via zapier.com, not inside your WordPress dashboard.

= Can I disable the upgrade nags? =

WP Fusion Lite has a few banners on the settings pages with additional info about the features available in the Pro version.

If you'd prefer not to see these you can disable them with the filter:

`add_filter( 'wp_fusion_hide_upgrade_nags', '__return_true' );`

= Do you have more FAQs? = 

Of course, see our [Frequently Asked Questions](https://wpfusion.com/documentation/).

== Changelog ==

= 3.37.31 - 8/7/2021 =

* Fixed XSS vulnerability on logs table in the admin.

= 3.37.30 - 8/6/2021 =

##### New CRMs

* [Autonami](https://wpfusion.com/documentation/installation-guides/how-to-connect-autonami-crm/)
* [PulseTechnologyCRM](https://wpfusion.com/documentation/installation-guides/how-to-connect-pulsetechnologycrm-to-wordpress/)


##### New Features

* Added View In CRM links (direct link to the contact record) for all CRMs that support it
* Added a Send Welcome Email option in the Imported Users settings
* Added Picture URL field for sync with CapsuleCRM
* Added Job Title field for sync with Capsule CRM
* Added unique_id field for sync with Ontraport
* Added Owner ID field for sync with Intercom
* Added Google Analytics fields for sync with Intercom


##### Improvements

* Improved - Wildcards * can now be used in the Allowed URLs setting for Site Lockout
* Improved - Added warning for admins when viewing a post that has access rules enabled, but no redirect specified
* Improved - If the Limit User Roles setting is in use, and a user without a CRM contact record has their role changed to a valid role, a new contact record will be created in the CRM
* Improved - Return after login cookies will now be set if access is denied and the restricted content message is shown (previously it only worked after a redirect)
* Improved - Comments forms will be pre-filled with the temporary user's details during an auto-login session
* Improved - If a field type is set to `text` then arrays will be converted to comma-separated strings for syncing
* Improved - Stopped "Unknown Lists" from being loaded from HubSpot
* Improved - Custom leadsource tracking variables registered via the wpf_leadsource_vars filter will show up on the Contact Fields list automatically
* Improved - Contact fields settings will default to suggested usermeta / CRM field pairings
* Improved - If you have more than 1,000 tags, they will be loaded in the admin via AJAX when you focus on the dropdown (improves admin performance)
* Improved site tracking with EngageBay (logged-in users will now be identified to the tracking script by email address)
* Improved site tracking with Mautic after guest form submission
* Added indicator in the logs when a pseudo field or read only field (i.e. user_registered) has been loaded from the CRM
* Added notification badge on WP Fusion Logs admin menu item to indicate when there are unseen API errors in the logs
* Added logging when a site tracking session has been started for a guest, for ActiveCampaign, HubSpot, and EngageBay
* Added error message when connecting to FluentCRM (REST API) and pretty permalinks aren't enabled on the CRM site


##### Bug Fixes

* Fixed console errors in the Widgets editor since WP 5.8
* Fixed auto-login loading the user's tags on every page load
* Fixed fatal error with Drip SDK and PHP 8
* Added nonce verification to Flush All Logs button (improved security)
* Fixed custom fields not syncing with Maropost
* Fixed PHP warning updating contacts with Intercom
* Fixed Capsule CRM not loading more than 100 tags
* Fixed undefined index PHP warning loading data from ActiveCampaign
* Fixed "Invalid email address" error with Mailerlite when Email Changes setting was set to Duplicate
* Fixed error syncing array formatted data to Intercom
* Fixed fatal error with Klick-Tip when making API calls using expired credentials
* Fixed datetime fields being synced to ActiveCampaign in 12h format (fixed to 24h format)
* Fixed fatal error trying to sync multidimensional arrays to the CRM
* Fixed default fields not being enabled for sync in the settings after first setting up the plugin
* Fixed the default owner for new Zoho contacts overriding a custom owner
* Fixed fatal error when enabling ActiveCampaign site tracking while WP Fusion is in staging mode
* Fixed PHP warning syncing array values with HighLevel
* Fixed PHP notices in Groundhogg integration


##### Developer

* Added wpf_get_users_with_contact_ids() function
* Developers: wp_fusion_init action will now only fire if WP Fusion is connected to a CRM
* Developers: Added `wpf_get_lookup_field()` function for getting the API name of the CRM field used for contact lookups (usually Email)
* Developers: Added `wpf_infusionsoft_safe_fields` filter (strips out Asian characters loaded over the API in field names to prevent XML parse errors)
* Developers - added `wpf_get_users_with_tag( $tag )` function
* Developers - added `wpf_get_datetime_format()` function and `wpf_datetime_format` filter
* Developers - Added wpf_get_tags() function
* Developers - Added action wpf_meta_box_content_{$post->post_type}
* Developers - Refactored user_can_access() function for better performance and readability
* Developers: Added [wpf_disable_crm_field_select4 and wpf_disable_tag_select4 filters](https://wpfusion.com/documentation/faq/performance/#admin-performance)
* Developers: removed register_shutdown_function() in API queue in favor of the "shutdown" WordPress action



= 3.37.18 - 5/18/2021 =

##### New CRMs

* Emercury
* [FluentCRM (REST API)](https://wpfusion.com/plugin-updates/introducing-fluentcrm-rest-api/?utm_campaign=free-plugin&utm_source=wp-org)


##### New Features

* Added [Auto Login debug mode](https://wpfusion.com/documentation/tutorials/auto-login-links/#debug-mode)
* Added View in CRM links to admin user profile for FluentCRM and Groundhogg


##### Improvements

* Added notice to the logs when Filter Queries is running on more than 200 posts of a post type in a single request
* Added warning during HubSpot setup if site isn't SSL secured
* Added additional context to the "Can not operate manually on a dynamic list." error with HubSpot
* Improved performance with taxonomy term access rules
* Improved - Active HubSpot lists will now show as "read only" when selected
* Improved - User-entered fields on the Contact Fields list will now show under their own heading
* Improved support for syncing phone numbers with HighLevel
* Improved - user_email and user_pass will no longer be loaded from the CRM during login if Login Meta Sync is enabled
* Improved error handing with HubSpot
* Improved Filter Queries performance
* Improved - Filter Queries / Advanced will now limit the post query to the first 200 posts of each post type (for improved performance)
* Improved - Filter Queries will be bypassed while WP Fusion is processing a webhook
* Improved - user_registered will now be synced back to the CRM after a user is imported via webhook (if enabled)
* Improved - Edits to fields on contact records in FluentCRM will now be synced back to the user record automatically
* Improved - Disabled the "API Queue" with FluentCRM and Groundhogg
* Improved upgrade nags with WP Fusion Lite


##### Bug Fixes

* Fixed Resync Tags batch operation getting hung up with Ontraport trying to load the tags from a deleted contact
* EngageBay bugfixes
* Fixed Filter Queries - Standard not working on search results
* Fixed Export Users batch operation not respecting Limit User Roles setting
* Fixed fatal error error handling error-level HTTP response code with NationBuilder
* Fixed Capsule not loading more than 50 tags
* Fixed an empty last_name field at registration defaulting to last_updated (with FluentCRM)
* Fixed unwanted user meta getting synced back to the CRM when importing users if Push All was enabled
* Fixed PHP warning trying to apply tags on view for deleted taxonomy terms
* Fixed fatal error trying to apply tags to a deleted FluentCRM contact
* Fixed HTTP API logging not working with MailJet
* Fixed MailJet treating Contact Not Found errors as irrecoverable
* Fixed duplicate State field with HighLevel
* Fixed tag changes not being synced back properly from FluentCRM
* Fixed being unable to disable First Name and Last Name fields from sync
* Fixed fatal error on frontend if you selected Mautic as the CRM in the initial setup and saved the settings without entering API credentials
* Fixed PHP warning 'WPF_Lead_Source_Tracking' does not have a method 'prepare_meta_fields' warning saving the settings
* Fixed "Warning: Illegal string offset 'crm_field'"


##### Developer

* Added action [wp_fusion_init](https://wpfusion.com/documentation/actions/wp_fusion_init/)
* Added action wp_fusion_init_crm
* Added wp_fusion_hide_upgrade_nags filter
* Added wpf_query_filter_get_posts_args filter
* Added wpf_is_post_type_eligible_for_query_filtering filter
* Added wpf_should_filter_query filter
* Added filter wpf_get_user_id
* Added filter wpf_restricted_content_message
* Added wpf_leadsource_cookie_name filter
* Added wpf_referral_cookie_name filter
* Added wpf_get_current_user() function
* Added wp_fusion()->access->can_access_posts cache
* Added wp_fusion()->access->can_access_terms cache
* Added "wpf_filtering_query" property to WP_Query objects that are being affected by Filter Queries - Advanced
* Improved - Third parameter ($post_id) to wpf_user_can_access filter will now be false if the item being checked is not a post



= 3.37 - 3/16/2021 =

##### New CRMs

* Growmatik
* HighLevel

##### New Features

* Added "Default Not Logged-In Redirect" setting
* Added [[user_meta_if]] shortcode (thanks @igorbenic!)
* Added automatic detection for first_name and last_name fields during registration
* Added View In CRM link to admin user profile for ActiveCampaign and Infusionsoft
* Added option to set default format for usernames for imported users
* Added option to limit Filter Queries to specific post types
* Added user_nicename field for sync
* Added "Apply registration tags" batch operation
* Added Read Only indicator on non-writeable Salesforce fields
* Added support for Datetime fields with ActiveCampaign
* Added track_event function to ActiveCampaign integration
* Added "ignoreSendingWebhook" parameter to EngageBay API calls
* Added warning when curly quotes are detected in shortcode parameters
* Added First Name and Last Name fields for sync with Intercom
* Added support for loading picklist / multiselect fields from Salesforce
* Added logging for when an API call to apply a tag isn't sent because the user already has that tag
* Added 1 second sleep time to Quentn batch operations to get around API throttling
* Added additional Standard Fields for sync with Autopilot
* Added Work Address fields for sync with NationBuilder
* Added debugging message to logs page for when the site runs out of memory building the Users dropdown
* Added Flush All Logs button at top of logs page
* Added Start Date and End Date filters to the activity logs
* Added admin notice when logs are set to Only Errors mode
* Added link back to main settings page from the logs page


#### Improvements

* Tested and updated for WordPress 5.7

* Removed AWeber integration
* Improved - Parentheses can now be used in shortcode attributes to match tags with square brackets in the name
* Improved - Added note about .csv imports to Import settings tab for Salesforce
* Improved - Role slug or name can be loaded from the CRM and used to set a user's role
* Improved - Added notice in the logs when a user's role or capabilities were changed via loading a new role from the CRM
* Improved - Login Tags Sync and Login Meta Sync features will now give up after 5 seconds if the CRM API is offline
* Improved - Added search filter to select boxes in the admin
* Improved - Significantly reduced the amount of memory required for the main settings storage
* Improved - Admin notices from other plugins will be hidden on the WPF settings page
* Improved - Available tags and available fields have been moved to their own wp_options keys for improved performance
* Improved - The wpf_options options key is now set to autoload, for improved performance
* Improved - AJAX'ified the page redirect select in the meta box for improved admin performance
* Improved performance with Filter Queries - Advanced, query results for the same post type will now be cached with wp_cache_set()
* Improved performance - wpf-settings postmeta key will now be deleted on post save if there are no WPF settings configured for the post
* Improved - If Staging Mode is enabled, site tracking scripts will be turned off with supported CRMs
* Improved - Log messages will now use the correct custom object type (instead of "contact") when a custom object is being edited
* Improved - If FirstnameLastname or Firstname12345 are selected for the user import username format, and a user already exists with that username, the username will be randomized further
* Improved - Test Connection / Refresh Available Tags errors will now be shown on the top of the settings page (instead of the Setup tab)
* Improved - Logs will now show when an entry was recorded as a part of a batch operation
* Improved admin style for consistency with the rest of WP
* Improved - Data will no longer be synced to Salesforce for read-only fields
* Improved - ConvertKit API timeout is now extended to 15 seconds
* Improved support for multiselect fields with EngageBay
* Improved NationBuilder error handling
* Improved Mailchimp error handling
* Improved EngageBay error handling
* Improved Zoho error handling
* Improved HubSpot error logging
* Improved error handling with Groundhogg and FluentCRM when those plugins are deactivated


#### Bug Fixes

* Fixed roles or capabilities loaded from the CRM being able to remove roles and/or capabilities from administrators
* Fixed wp_capabilities field not saved in correct format when loaded from the CRM
* Fixed Add New Field on Contact Fields list not saving when no CRM field was selected
* Fixed Prevent Reapplying Tags setting not saving when un-checked
* Fixed menu visibility controls sometimes getting output twice
* Fixed Gutenberg block visibility not respecting auto login sessions
* Fixed the logs getting flushed if the filter form was submitted using the enter key
* Fixed imported users not respecting "role" field loaded in user meta
* Fixed fatal error loading admin user profile when WP Fusion was not connected to a CRM
* Fixed apostrophes getting escaped with slashes before being synced
* Fixed header resync button on settings page not resyncing CRM lists
* Fixed the No Tags filter in the users list showing all users
* Fixed Create Tags from Value on user_role conflicting with Limit User Roles setting
* Fixed post type rules taking priority over single post access rules for query filtering
* Fixed some post types registered by other plugins not showing as options for Filter Queries - Post Types
* Fixed menu items being hidden when Filter Queries was used in Standard mode and limited to specific post types
* Fixed query filtering not working on queries that used post__in
* Fixed auto-login session setting user to logged in when the contact ID was invalid
* Fixed tag changes in FluentCRM not being synced back to WP Fusion
* Fixed date-format fields sometimes not syncing correctly to Kartra
* Fixed bug applying and removing tags with Growmatik
* Fixed Mautic not loading more than 30 tags on some sites
* Fixed dates loaded from HubSpot being loaded as milliseconds not seconds since the epoch
* Fixed ActiveCampaign not loading more than 100 lists
* Fixed ActiveCampaign integration not treating 429 status code as an error
* Fixed Create Tag(s) from Value creating errors with NationBuilder
* Fixed WP Fusion trying to handle API error responses from ontraport.com that originated with other plugins
* Fixed Autopilot integration creating new contacts when email address wasn't specified in update data
* Fixed standard fields not being loaded from Autopilot
* Fixed JavaScript error on settings page when connected to ConvertKit
* Fixed HTTP API logging not showing up for ConvertKit
* Fixed error when trying to add an entry to the logs before the CRM connection was configured
* Fixed "Invalid argument" warning listing custom fields with some CRMs
* Fixed PHP warning loading available users from Zoho
* Fixed PHP warning trying to get tag ID from tag label when no tags exist in the CRM
* Fixed PHP warning when force-ending an auto login session
* Fixed PHP warning during login when Login Tags Sync is enabled
* Fixed PHP notice "Constant DOING_WPF_BATCH_TASK already defined"
* Fixed PHP warning in Salesforce integration
* Fixed PHP notices in Mailjet integration


#### Developer

* Added add_object() update_object() and load_object() methods to Salesforce, HubSpot, and Zoho
* Added wpf_get_contact_id() function
* Added wpf_bypass_query_filtering filter
* Added wpf_query_filtering_mode filter
* Added wpf_configure_setting_{$setting_id} filter
* Added wpf_hubspot_auth_url filter
* Added wpf_zoho_auth_url filter
* Added wpf_api_preflight_check filter
* Added third parameter $searchfield to wpf_salesforce_query_args filter
* Improved - wpf_format_field_value in WPF_CRM_Base will stop imploding arrays (fixes issue syncing picklists options with commas in them to Salesforce and HubSpot)
* Improved - the available CRMs are now loaded on plugins_loaded to better support custom CRMs modules in other plugins
* Improved - Added second argument $user_meta to wpf_map_meta_fields filter



= 3.35 - 12/8/2020 =

##### New CRMs

* FluentCRM


##### New Features

* Added additional logging to show when meta values have been modified by wpf_format_field_value before being sent to the CRM
* Added "Additional Actions" to admin user profile (Push User Meta, Pull User Meta, and Show User Meta) for debugging purposes
* Added Re-Authorize With Hubspot button to re-connect via OAuth
* Added option to disable admin menu editor interfaces
* Added support for Mautic v3
* Added support for new background_request flag with the Ontraport API
* Added a Default Account setting for Salesforce

* Added datetime field support to Zoho integration
* Added support for dropdown and checkbox fields with Kartra
* Added Work Address fields for sync with NationBuilder
* Added Owner ID field for sync with Groundhogg
* Added Profile Picture field for sync with Groundhogg
* Added support for custom address fields with Mailchimp
* Added Avatar field for sync with Jetpack CRM
* Added Phone 3 through Phone 5 fields for syncing with Infusionsoft


#### Improvements

* Tested and updated for WordPress 5.6

* Added warning when user_pass field is enabled for sync
* Added logging for WP Fusion plugin updates
* Added logging for when an invalid role slug was loaded from the CRM

* Improved Hide From Menus setting - will now attempt to get a post ID out of a custom link
* Improved (No Tags) and (No Contact ID) filters in the All Users list
* Improved - Multiselect values loaded from ActiveCampaign will now be loaded as arrays instead of strings
* Improved support for syncing First Name and Last Name with Gist
* Improved - Post type archives will now respect wpf_post_type_rules access rules
* Improved handling for merged / changed contact IDs to Ontraport
* Improved - Moved ActiveCampaign tracking scripts to the footer

* Improved error handling for MailPoet
* Improved error handling with Drip
* Improved error handling with MailJet
* Improved error handling for NationBuilder

* Updated ZeroBS CRM to Jetpack CRM

* Removed Groundhogg < 2.x compatibility code
* Removed dynamic tagging support from Groundhogg
* Removed AWeber integration


#### Bug Fixes

* Fixed custom fields not updating with Kartra
* Fixed importer getting hung up on more than 100 contacts with HubSpot
* Fixed importer with EngageBay
* Fixed import tool with MailerLite
* Fixed MailerLite integration using a case-sensitive comparison for email address changes
* Fixed user_registered getting loaded from the CRM when a user was imported
* Fixed Mailjet integration not loading more than 10 custom fields
* Fixed ActiveCampaign not loading more than 100 custom fields
* Fixed dates not formatted correctly with Mailjet
* Fixed PHP warning loading contact data with ActiveCampaign
* Fixed some issues with Sendinblue and email addresses that had capital letters
* Fixed syncing empty multiselects to EngageBay not erasing the selected values in the CRM
* Fixed multiselect fields not loading from EngageBay
* Fixed PHP warning in EngageBay integration when loading a contact with no custom properties
* Fixed users having to log in twice if they tried to log in during an auto-login session
* Fixed taxonomy term settings not saving when trying to remove protection from a term
* Fixed error adding new Zoho Leads without a last name
* Fixed JS bug when editing taxonomy terms
* Fixed settings page requiring an extra refresh after resetting before changing to a new CRM
* Fixed "Wrong custom field format" error adding contacts to Kartra
* Fixed loading dropdown and multi-checkbox type fields from Kartra
* Fixed Salesforce not connecting when the password has a slash character in it
* Fixed date fields not syncing properly with Groundhogg
* Fixed applying tags on pageview in AJAX request during an auto login session not working on WP Engine
* Fixed JSON formatting error applying tags with AgileCRM
* Fixed - user_id will no longer be loaded during user imports
* Fixed - Renamed class WPF_Options to WP_Fusion_Options to prevent conflict with WooCommerce Product Filter
* Fixed MailEngine SOAP warning when MailEngine wasn't the active CRM
* Fixed user_meta shortcode not displaying field if value was 0
* Fixed Lead Source Tracking not working for guests


#### Developer

* Added "raw" field type
* Added functions wpf_get_crm_field(), wpf_is_field_active(), and wpf_get_field_type()
* Added wpf_set_user_meta filter
* Added wpf_render_tag_multiselect_args filter
* Added gettext support to wpf-admin.js and wpf-options.js strings
* Added doing_wpf_webhook() function
* Added pre_user_{$field} filter on user data being synced to the CRM



= 3.34 - 8/12/2020 =

##### New CRMs

* Loopify
* WP ERP
* EngageBay


##### New Features

* Added Set Current User option to auto-login system
* Added Send Confirmation Emails setting for MailPoet
* Added Status field for syncing with Drip
* Added Time Zone and Language fields for Infusionsoft
* Added Double Optin setting to Mailchimp integration
* Added Username for sync with Kartra
* Added priority option for Return After Login
* Added option to set a default owner for new contacts with Zoho
* Split Mautic site tracking into two modes (Standard vs. Advanced)
* Added "Resync contact IDs for every user" batch operation
* Added [[wpf_user_can_access]] shortcode
* Added support for Groundhogg Advanced Custom Meta Fields
* Added support for multiselect fields with Mautic
* Added ability to create new tags in Groundhogg via WP Fusion
* Added setting for additional allowed URLs to Site Lockout feature


##### Improvements

* WordPress 5.5 compatibility updates
* If the user_meta shortcode is used for a field that has never been loaded from the CRM, WP Fusion will make an API call to load the field value one time
* Improved support for Mautic site tracking
* Improved support for syncing phone numbers with Sendinblue
* If API call to get user tags fails or times out, the local tag cache won't be erased
* Intercom integration will now force the v1.4 API
* Added compatibility notices in the admin when potential plugin conflicts are detected
* Added validation to custom meta keys registered for sync on the Contact Fields list
* Facebook OG scraper will now bypass access rules if SEO Show Excerpts is on
* Improved error handling for Salesforce access token refresh process
* Salesforce will now default to the field configured for sync with the user_email field as the lookup field for records
* Improved filtering tool on the All Users list
* Reduced the amount of data saved by the background worker to help with max_allowed_packet issues
* Added staging mode notice on the settings page
* Users added to a multisite blog will now be tagged with the Assign Tags setting for that site
* Added notice if an auto-login link is visited by a logged-in admin
* Added Refresh Tags & Fields button to top of WPF settings page
* Improved support for syncing wp_capabilities and role fields


##### Bug Fixes

* Fixed email address changes not getting synced after confirmation via the admin user profile
* Fixed optin_status getting saved to contact meta with Groundhogg
* Fixed Groundhogg custom fields updated over the REST API not being synced back to the user record
* Fixed address fields not being synced back to WordPress after an admin contact save in Groundhogg
* Fixed Mautic not importing more than 30 contacts using import tool
* Fixed MailerLite subscriber IDs not loading properly on servers with PHP_INT_MAX set to 32
* Fixed Infusionsoft form submissions starting auto-login sessions even if the setting was turned off
* Fixed Spanish characters not showing in Infusionsoft tag names
* Fixed SSL error connecting to Zoho's Indian data servers
* Fixed ActiveCampaign list Auto Responder campaigns not running on contacts added over the API
* Fixed import tool not loading more than 10 contacts with Mailchimp
* Fixed import tool not loading more than 100 contacts with MailerLite
* Fixed import tool not loading more than 1,000 contacts with AgileCRM

* Fixed Hide From Menus filter treating a taxonomy term as a post ID for access control
* Fixed Filter Queries not working on the blog index page
* Fixed Filter Queries not working on search results in Advanced mode
* Fixed Filter Queries (Advanced) hiding restricted posts in the admin
* Fixed archive restrictions not working if no required tags were specified
* Fixed deletion tags not being applied on multisite sites when a user was deleted from a blog
* Fixed Preview With Tag not working if the user doesn't have a CRM contact record
* Fixed restricted post category redirects not working if no tags was specified
* Fixed Hide Term on post categories hiding terms in the admin when Exclude Administrators was off
* Fixed restricted posts triggering redirects on a homepage set to Your Latest Posts in Settings >> Reading
* Fixed Required Tags (All) tags not showing on lock icon tooltip in post tables

* Updated User.com integration for new API endpoint
* Klaviyo bugfixes
* Maropost bugfixes


##### Developer

* Added wpf_user_can_access() function
* Added wpf_disable_tag_multiselect filter
* Added wpf_salesforce_lookup_field filter
* Added wpf_get_contact_id_email filter
* Added wpf_batch_objects filter
* Added X-Redirect-By headers when WP Fusion performs a redirect
* Added HTTP API logging option
* Added PHP error handling to logger
* Added fallback method for background worker in case it gets blocked
* Added setting for Prevent Reapplying Tags (Advanced)
* Improved - Updated has_tag() function to accept an array or a string
* Updated some ActiveCampaign API calls to v3 API


= 3.31 - 3/30/2020 =

##### New CRMs

* ZeroBS CRM
* MailEngine
* Klick-Tipp
* Quentn
* SendFox

##### New Features

* Added option to restrict access to individual menu items
* Added Apply Tags on View option for taxonomy terms
* Added Required Tags (not) setting to access control meta box
* contactId can now be used as a URL parameter for auto-login with Infusionsoft
* Added automatic data conversion for dropdown fields with Ontraport
* Added data-remove-tags option to link click tracking
* Added option to send welcome email to new users imported from ConvertKit
* Added Default Optin Status option and optin_status syncing with Groundhogg
* Added an alert to the status bar of the background worker if API errors were encountered during data export
* Added Entries Per Page to Screen Options in logs
* Added logging for API throttling with ConvertKit
* Added support for dropdown-type fields with Copper
* Added additional built in Gist fields for syncing

##### Improvements

* Removed extra column in admin list table and moved lock symbol to after the post title
* Contacts will no longer be created in Ontraport without an email address
* Removed non-editable fields from Ontraport fields dropdowns
* Stopped loading meta for new user registrations with existing contact records
* Leads will now be created in Gist instead of Users if the subscriber doesn't have a user account
* Logged in users and form submissions will now be identified to the Gist tracking script
* Logged in users and guest form submissions will now be identified to the Autopilot tracking script
* Slowed down batch operations with ConvertKit to get around API throttling
* Improved debugging tools for background worker
* Improvements to applying tags with Kartra using the new Kartra API endpoints
* Gutenberg block will no longer output HTML if there's nothing to display

##### Bug Fixes

* Fixed duplicate content in Gutenberg block
* Fixed messed up formatting of foreign characters in Gutenberg block
* Fixed duplicate contact ID lookup API call for new user registrations with existing contact records
* Fixed restricted content message not being output when multiple content areas were on a page
* Fixed user_activation_key getting reset when importing new users and breaking Better Notifications welcome emails
* Fixed "Return After Login" not working with WooCommerce account login
* Fixed lead source variables not syncing to Ontraport
* Stopped converting dates to GMT with Ontraport
* Fixed Duplicate and Delete tool for MailerLite email address changes
* Fixed New User Benchmark not firing with Groundhogg
* Fixed changed email addresses not syncing to Sendinblue
* Fixed bug in Import Tool with Sendinblue
* Fixed Mautic not listing more than 30 custom fields
* Fixed Mailchimp not loading more than 200 tags
* Fixed underscores not loading in Infusionsoft tag labels
* Fixed Invalid Data errors when syncing a number to a text field in Zoho
* Fixed ActiveCampaign contact ID lookups returning error message when connected to non-English ActiveCampaign accounts
* Gist compatibility updates for changed API methods
* Fixed missing email addresses causing BirdSend API calls to fail
* Fixed BirdSend only loading 15 available tags

##### Developer

* Added wpf_get_current_user_id() function
* Added wpf_is_user_logged_in() function
* Auto login system no longer sets $current_user global
* Removed admin authentication cookies from background worker
* Added wpf_auto_login_cookie_expiration filter
* Added wpf_salesforce_query_args filter
* Added wpf_aweber_key and wpf_aweber_secret filters


= 3.27 - 11/27/2019 =

##### New CRMs

* BirdSend
* Klaviyo

##### New Features

* Added Site Lockout feature
* Added Company, GDPR Consent, and Agreed to Terms fields for sync with Groundhogg
* Added signup_type field to NationBuilder
* Added Australia and India data server support to Zoho integration
* Added "capabilties" format for syncing capability fields
* Added "ucwords" formatting option to user_meta shortcode
* Added option to hide WPF meta boxes from non admins

##### Improvements

* Style compatibility updates for WP 5.3
* Improved Mautic site tracking
* Improved handling of merged contacts with Mautic
* Improved site tracking with HubSpot for guests
* Updated ActiveCampaign site tracking scripts
* Updated Intercom integration to use API v1.4
* Enabled Import Users tab for Intercom
* Improved support for Country field with Groundhogg
* All site tracking scripts will now recognize auto login sessions
* Disabled comments during auto login sessions
* wpf_tags_applied and wpf_tags_removed actions will now run when tags are loaded from the CRM
* Enabled welcome email in MailPoet when a contact is subscribed to a list


##### Bug Fixes

* Sendinblue bugfixes
* Copper bugfixes
* Fixed Gist API URL
* Fixed special characters getting escaped on admin profile updates
* Fixed NationBuilder not loading more than 100 available tags
* Fixed fatal error when initializing GetResponse connection
* Fixes for HubSpot accounts with over 250 lists
* Fixed Mailchimp contact ID getting disconnected after email address change
* Fixed NationBuilder Primary address fields not syncing
* Fixed Mailchimp compatibility with other Mailchimp plugins
* Fixed tags not being removed with Ontraport
* Fixed content protection on blog index page
* Fixed "Create tags from value" option for profile updates
* Fixed initial connection to Groundhogg on Groundhogg < 2.0
* Performance improvements and bugfixes for background worker


= 3.25 - 8/24/2019 =

##### New CRMs

* GetResponse
* MailPoet

##### New Features

* Added option to return people to originally requested content after login
* Added ability to create new user meta fields from the Contact Fields list
* Added dynamic tagging based on field values (for supported CRMs)
* Added ability to modify field data formats via the Contact Fields list
* Added option to remove tags when a page is viewed
* Added option to completely hide a taxonomy term based on tags
* Added option to enable HubSpot site tracking scripts
* Added auto-login by email address for MailerLite
* Added "Advanced" mode for Filter Queries setting
* MailerLite will now re-subscribe subscribers when they submit a form
* Added additional monitoring tools for background process worker
* Groundhogg 2.0 compatibility
* Added social media fields to Kartra
* Added date_joined field for Kartra
* Added new default profile fields for Drip
* Added wpf_salesforce_auth_url filter for Salesforce
* Added multiselect support for HubSpot
* Added unsubscribe notifications for ConvertKit
* Added "wpf_salesforce_auth_url" filter for overriding Salesforce authorization URL
* Added details about configured tags to protected content in post list table
* Added Email Changed event for Drip
* Added Is X? fields for NationBuilder
* Added option to disable "Preview With Tag" in admin bar
* Added active lists to list dropdowns with HubSpot
* Added IP address when adding new contacts with Mautic
* Added Organisation field for syncing to Capsule
* Auto login with Mailchimp now works with email address
* Added Portuguese translation (thanks @JoÃ£o Alexandre)

##### Improvements

* Improved OAuth access token refresh process with Salesforce
* Access control meta box now requires the manage_options capability
* Drip site tracking will now auto-identify logged in users
* Groundhogg will now load tags and meta immediately instead of requiring sync
* Improved handling for State fields with Ontraport
* Better handling for missing last names in Salesforce
* Slowed down HubSpot batch operations to get around API limits
* Mautic performance improvements
* Preview With Tag now bypasses Exclude Admins setting
* Compatibility updates for custom field formatting with Mailerlite

##### Bug Fixes

* Fixed typo in NationBuilder fields dropdown
* Fixed email address changes with Infusionsoft causing opt-outs
* Fixed notifications going out when using the built in import tool
* Bugfixes for Preview with Tag feature
* Fixed Infusionsoft API errors with addWithDupCheck method
* Fixed ConvertKit contact ID lookup failing
* Fixed creating a contact in Zoho without a last name
* Fixed slashes getting added to tags with apostrophes in Mautic
* Fixed redirect causing multiple API calls with contact ID lookup in Mautic
* Fixed MailChimp looking up contacts from other lists
* Fixed empty date type fields sending 1/1/1970 dates
* Copper bugfixes
* Capsule bugfixes
* Platform.ly bugfixes


= 3.24 - 4/25/2019 =

##### New CRMs

* Sendlane
* Mailjet

##### New Features

* Added option to return people to originally requested content after login
* Added admin users column showing user tags
* Added AgileCRM site tracking scripts
* Added Organization Name field for ActiveCampaign
* Added merge settings option to bulk edit
* Added setting to remove "Additional Fields" section from settings
* Added date-format parameter to user_meta shortcode
* Added "Required tags (all)" option to post restriction meta box
* Added option for login meta sync
* Added additional status triggers for Mailerlite webhooks
* Added option to embed Mautic site tracking scripts
* Added Mautic mtc_id cookie tracking for known contacts
* Improved Ontraport site tracking script integration
* Improved HubSpot error logging

##### Bug Fixes

* Platform.ly bugfixes
* Mailerlite bugfixes
* ConvertKit fixes for unconfirmed subscribers
* Fix for email addresses with + sign in MailChimp
* Fix for contact ID lookup with HubSpot
* Updated AWeber subscriber ID lookup to only use selected list
* Better AWeber exception handling
* Fix for changing email addresses with Drip
* Limit logging table to 10,000 rows
* Fixes for wpf_user_can_access filter
* Fix for background worker when PHP's memory_limit is set to -1
* Comments are now properly hidden when a post is restricted and no redirects are specified
* Set 1 second sleep time for Drip batch processes to avoid API timeouts
* Fixes for custom objects with Ontraport

= 3.22 - 2/2/2019 =

##### New CRMs

* Drift
* Autopilot
* Customerly
* Copper
* Groundhogg
* NationBuilder

##### New Features

* Added Gutenberg block for content restriction
* Added support for Salesforce Topics
* Added import tool for Mautic
* Added support for updating email addresses in Kartra
* Added handling for changed contact IDs in Infusionsoft
* Added user_registered field for syncing
* Added option for per-post restricted content messages
* Added Pull User Meta batch operation
* Added support for picklist / multiselect fields in Zoho
* Added import by Topic for Salesforce
* Added support for using tag labels in link click tracking
* Added Gist (ConvertFox) webhooks support
* Added custom fields support for Kartra
* Added webhooks support for Platform.ly

##### Bug Fixes

* Capsule bugfixes
* UserEngage bugfixes
* Gist (ConvertFox) bugfixes
* Drift tagging bugfixes
* Fixed bug where bulk-editing pages would remove WPF access rules
* Fix for syncing with unsubscribed subscribers in ConvertKit
* Fix for incomplete address error with MailChimp
* Fix for error creating contacts in Intercom without any custom fields
* Fix for wpf_update_tags shortcode in auto-login sessions
* Fix for imports larger than 50 with Capsule
* Fix for Sendinblue not creating contacts if custom attributes weren't present

= 3.18 - 11/5/2018 =
* Added Platform.ly CRM support
* Added support for Salesforce topics
* More flexible staging mode
* Added logged in / logged out shortcode
* Added option to sync tags on user login
* Capsule bugfixes
* Added option to choose contact layout for new contacts with Zoho
* Added custom fields support for Intercom
* Fix for "restrict access" checkbox not unlocking inputs correctly
* Fix for import button not working in admin

= 3.17.1 - 9/9/2018 =
* Additional sanitizing of user input data

= 3.17 - 9/8/2018 =
* Initial release of Lite version

For previous release notes see the [changelog](https://wpfusion.com/documentation/faq/changelog/?utm_campaign=free-plugin&utm_source=wp-org).